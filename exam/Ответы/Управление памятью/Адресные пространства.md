#### **Почему при загрузке программы не с нулевого адреса команды перехода/обращения к данным могут «сломаться»? ⭐⭐**

Это происходит потому, что программы в ранних системах использовали **абсолютные физические адреса** для хранения данных и меток в коде,. Например, если в коде зашита команда перехода по адресу 28, а программу загрузили не с 0-го адреса, а по адресу 16384, то нужная инструкция окажется по адресу 16412,. В результате старая команда `JMP 28` укажет на неверное место в памяти, и выполнение программы нарушится,.

---

#### **Что такое статическая релокация, и как ОС корректирует адреса при загрузке программы? ⭐⭐**

**Статическая релокация** — это процесс корректировки абсолютных ссылок на память в машинном коде непосредственно в момент загрузки программы в ОЗУ,. Операционная система прибавляет базовый адрес (начало области памяти, куда реально попала программа) ко всем командам, содержащим прямые адреса ячеек,. Таким образом, логические адреса в коде «подтягиваются» к их реальному физическому положению,.

---

#### **Почему загрузчику важно различать «адрес» и «константу» в машинном коде? ⭐⭐⭐**

Загрузчик должен изменять только те значения, которые являются **указателями на память**,. Если он по ошибке прибавит базовый адрес к обычной **числовой константе** (например, числу 100 в операции сложения), логика программы будет необратимо испорчена,. Поэтому для корректной настройки кода загрузчику необходима точная информация о том, какие именно байты в бинарном файле требуют модификации,.

---

#### **Зачем компилятор формирует таблицу релокаций, и что в ней должно быть? ⭐⭐**

Компилятор формирует **таблицу релокаций**, чтобы подсказать загрузчику ОС, в каких именно местах машинного кода находятся абсолютные адреса, требующие исправления,. В этой таблице должен содержаться список всех **смещений (офсетов)** внутри исполняемого файла, где записаны адреса функций или переменных,. Без этого списка ОС не сможет безопасно переместить программу в произвольное место памяти,.

---

#### **Почему статическая релокация делает загрузку медленной и сложной, особенно при частых перемещениях программ? ⭐⭐⭐**

Потому что при каждой загрузке или перемещении программы ОС вынуждена **сканировать весь бинарный образ** и выполнять арифметические операции над множеством инструкций,. Это создает значительную нагрузку на процессор и замедляет запуск приложений,. Кроме того, если программа уже запущена и её нужно переместить (например, для уплотнения памяти), статическую релокацию придется выполнять заново, что крайне трудно реализовать «на лету»,.

---

#### **Зачем нужна абстракция памяти и почему без неё сложно обеспечить безопасность и стабильность? ⭐⭐**

Без абстракции программы работают напрямую с физическими адресами, что делает систему **крайне уязвимой**: любая ошибка (неверный указатель) может привести к уничтожению данных другого процесса или самой ОС,. Абстракция необходима для изоляции программ друг от друга и создания стабильной среды, где сбой одного приложения не вызывает крах всей машины,.

---

#### **Дайте определение адресного пространства процесса и объясните, почему «адрес 28 в одном процессе ≠ адрес 28 в другом». ⭐⭐**

**Адресное пространство** — это логический диапазон адресов, доступный конкретному процессу для хранения его кода, данных и стека,. Оно полностью отделено от физической памяти машины,. Фраза «адрес 28 в одном процессе ≠ адрес 28 в другом» означает, что каждый процесс живет в своей **изолированной системе координат**: аппаратура и ОС прозрачно отображают один и тот же логический адрес (28) на совершенно разные ячейки в реальных чипах ОЗУ,.

---

#### **Приведите аналогии адресного пространства с реальными системами (телефонные номера, IP, домены) и объясните их смысл. ⭐**

Смысл этих аналогий в **уровнях переадресации**:

- **Телефонные номера:** Внутренний добавочный номер «101» в одной компании ведет к одному сотруднику, а в другой компании — к другому,.
- **IP-адреса и домены:** Мы используем удобное имя (домен), которое система DNS сопоставляет с реальным адресом сервера,. Эти системы позволяют нам работать с удобными именами или локальными номерами, в то время как инфраструктура сама находит «физический» объект,.

---

#### **Как ОС и аппаратное обеспечение совместно сопоставляют виртуальные адреса с физическими? (общая идея) ⭐⭐⭐**

ОС создает и поддерживает специальные структуры данных (например, таблицы страниц), которые описывают правила отображения,. Аппаратное обеспечение в лице **MMU (Memory Management Unit)** использует эти правила, чтобы мгновенно преобразовывать каждый виртуальный адрес, сгенерированный процессором, в реальный физический адрес на шине памяти,. Если нужного отображения нет, аппаратура вызывает прерывание (**page fault**), передавая управление ОС для подкачки данных с диска,.

---

#### **Какие свойства даёт адресное пространство: изоляция, защита, гибкое размещение — и как каждое проявляется? ⭐⭐⭐**

- **Изоляция:** Процессы работают в независимых мирах; один процесс физически не видит память другого, так как у них разные наборы логических адресов,.
- **Защита:** Аппаратура (MMU) проверяет каждое обращение: попытка выйти за пределы разрешенного лимита или записать в область «только для чтения» вызывает немедленный сбой программы,.
- **Гибкое размещение:** ОС может загрузить программу в **любой свободный фрагмент** физической памяти или даже разбросать её по частям, при этом для самой программы память всегда будет выглядеть как единый последовательный массив,.